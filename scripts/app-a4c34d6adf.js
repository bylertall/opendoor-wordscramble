!function(){"use strict";angular.module("opendoorWordScramble",["ngAnimate","ui.router","ui.bootstrap"])}(),function(){"use strict";function e(e,r){function t(){function r(e){var r=angular.element(document.querySelector(".user-input"));m.isWinner=!1,angular.copy([],m.userInput),m.word=e.word.toLowerCase(),angular.copy(m.word.toUpperCase().split(""),m.wordArray),angular.copy(n(m.wordArray),m.scrambledArray),r.removeClass("win")}function t(e){console.log("A random word could not be retrieved!"),console.log(e)}return e.get(s+u).success(r).error(t)}function n(e){for(var r,t,n=e.length;n;)t=Math.floor(Math.random()*n--),r=e[n],e[n]=e[t],e[t]=r;return e}function o(e){var r,n,o=-1;switch(e.which){case 8:m.userInput.length&&!m.isWinner&&m.scrambledArray.push(m.userInput.pop());break;case 13:if(m.isWinner)return t();break;case 19:e.ctrlKey&&(t(),m.multiplier=1);break;default:r=String.fromCharCode(e.charCode).toUpperCase(),o=m.scrambledArray.indexOf(r)}-1!==o&&(n=m.scrambledArray.splice(o,1),m.userInput.push(n[0])),m.scrambledArray.length||a(m.userInput.join("").toLowerCase())}function a(e){e===m.word?l():i(e)}function i(r){function t(e){e.totalResults?l():c()}function n(e){console.log("Error! Couldn't check the dictionary"),console.log(e)}return e.get(s+d+r+p).success(t).error(n)}function l(){var e=angular.element(document.querySelector(".user-input"));return e.addClass("win"),m.isWinner=!0,m.score+=5*m.multiplier,m.multiplier+=1,!0}function c(){var e=angular.element(document.querySelector(".user-input"));return e.addClass("lose"),r(function(){angular.copy(n(m.wordArray),m.scrambledArray),angular.copy([],m.userInput),e.removeClass("lose")},500),!1}var s="http://api.wordnik.com:80/v4/words.json/",u="randomWord?hasDictionaryDef=true&includePartOfSpeech=noun&excludePartOfSpeech=proper-noun,noun-posessive&minCorpusCount=10000&maxCorpusCount=-1&minDictionaryCount=1&maxDictionaryCount=-1&minLength=6&maxLength=6&api_key=a2a73e7b926c924fad7001ca3111acd55af2ffabf50eb4ae5",d="reverseDictionary?query=",p="&minCorpusCount=5&maxCorpusCount=-1&minLength=1&maxLength=-1&includeTags=false&skip=0&limit=1&api_key=a2a73e7b926c924fad7001ca3111acd55af2ffabf50eb4ae5",m={word:"",wordArray:[],scrambledArray:[],userInput:[],getNewWord:t,checkUserInput:o,isWinner:!1,score:0,multiplier:1};return m}angular.module("opendoorWordScramble").factory("wordService",e),e.$inject=["$http","$timeout"]}(),function(){"use strict";function e(){var e={restrict:"AE",replace:!0,templateUrl:"app/components/scoreDirective/score.html",scope:{playerScore:"@",playerMultiplier:"@"}};return e}angular.module("opendoorWordScramble").directive("odScore",e)}(),function(){"use strict";function e(e){var r=this;r.close=function(){e.dismiss("Close")}}angular.module("opendoorWordScramble").controller("HelpController",e),e.$inject=["$modalInstance"]}(),function(){"use strict";function e(e,r,t,n){function o(){t.open({templateUrl:"app/components/helpModal/help.html",controller:"HelpController as help",size:"md"})}var a=this;a.wordService=n,a.openHelp=o,r(function(){a.wordService.getNewWord()},1e3),e.bind("keydown",function(e){8===e.which&&(e.preventDefault(),r(function(){a.wordService.checkUserInput(e)}))}),e.bind("keypress",function(e){r(function(){a.wordService.checkUserInput(e)})})}angular.module("opendoorWordScramble").controller("MainController",e),e.$inject=["$document","$timeout","$modal","wordService"]}(),function(){"use strict";function e(e,r){e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController as main"}),r.otherwise("/")}angular.module("opendoorWordScramble").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),angular.module("opendoorWordScramble").run(["$templateCache",function(e){e.put("app/main/main.html",'<div class="container-fluid main-view"><div class="row header text-center"><h1 class="title col-xs-12">Scrambled Words</h1><od-score player-score="{{main.wordService.score}}" player-multiplier="{{main.wordService.multiplier}}"></od-score><img class="scramble-logo" src="assets/scramble.png"><button class="button-help btn btn-info" ng-click="main.openHelp()">?</button></div><div class="content-container"><div class="view-fade win-panel-outer" ng-if="main.wordService.isWinner"><div class="win-panel-inner"><h2 class="text-center win-title">YOU WON!</h2><div class="text-center win-text">Press <span>ENTER</span> to start a new game...</div></div></div><div class="word-container user-input"><div class="col-xs-2 character-container text-center" ng-repeat="character in main.wordService.userInput track by $index"><div class="guess character">{{character}}</div></div></div><div class="word-container scrambled-word"><div class="col-xs-2 scramble-fade character-container text-center" ng-repeat="character in main.wordService.scrambledArray track by $index"><div class="character">{{character}}</div></div></div></div></div><footer>Designed & developed by <a href="http://tyler-ball.com">Tyler Ball</a></footer>'),e.put("app/components/helpModal/help.html",'<div><div class="modal-header"><h3 class="modal-title">Unscramble the word!</h3></div><div class="modal-body"><h5>How to Play</h5><ul><li><div>Type your guess and it will be checked automatically when you\'ve used all the letters.</div><ul><li>If your guess is correct, you\'ll earn points and your multiplier will increase. Press enter to move on to the next word.</li><li>If your guess is incorrect, the letters will be rescrambled and you can try again.</li></ul></li><li><div>If you get stuck on a word you can skip it by pressing "Ctrl + S". <strong>BUT</strong> you\'ll get 0 points for that round and your multiplier will reset to 0!</div></li></ul></div><div class="modal-footer"><button class="btn btn-warning" type="button" ng-click="help.close()">Close</button></div></div>'),e.put("app/components/scoreDirective/score.html",'<div class="player-stats-container"><div class="player-stats score"><span class="score-count">{{playerScore}}</span><span class="score-title">points</span></div><span class="divider">|</span><div class="player-stats multiplier"><span class="multiplier-count">{{playerMultiplier}}</span><span class="multiplier-title">x multiplier</span></div></div>')}]);