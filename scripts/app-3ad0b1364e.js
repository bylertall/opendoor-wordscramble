!function(){"use strict";angular.module("opendoorWordScramble",["ngAnimate","ui.router","ui.bootstrap"])}(),function(){"use strict";function e(e,r){function n(){function r(e){var r=angular.element(document.querySelector(".user-input"));m.isWinner=!1,angular.copy([],m.userInput),m.word=e.word.toLowerCase(),angular.copy(m.word.toUpperCase().split(""),m.wordArray),angular.copy(a(m.wordArray),m.scrambledArray),r.removeClass("win")}function n(e){console.log("A random word could not be retrieved!"),console.log(e)}return e.get(l+u).success(r).error(n)}function a(e){for(var r,n,a=e.length;a;)n=Math.floor(Math.random()*a--),r=e[a],e[a]=e[n],e[n]=r;return e}function t(e){var r,n,a;return 8===e.which&&m.userInput.length?void m.scrambledArray.push(m.userInput.pop()):(r=String.fromCharCode(e.which),n=m.scrambledArray.indexOf(r),-1!==n&&(a=m.scrambledArray.splice(n,1),m.userInput.push(a[0])),void(m.scrambledArray.length||o(m.userInput.join("").toLowerCase())))}function o(e){e===m.word?c():i(e)}function i(r){function n(e){e.totalResults?c():s()}function a(e){console.log("Error! Couldn't check the dictionary"),console.log(e)}return e.get(l+d+r+p).success(n).error(a)}function c(){var e=angular.element(document.querySelector(".user-input"));return e.addClass("win"),m.isWinner=!0,m.score+=5*m.multiplier,m.multiplier+=1,!0}function s(){var e=angular.element(document.querySelector(".user-input"));return e.addClass("lose"),r(function(){angular.copy(a(m.userInput),m.scrambledArray),angular.copy([],m.userInput),e.removeClass("lose")},500),!1}var l="http://api.wordnik.com:80/v4/words.json/",u="randomWord?hasDictionaryDef=true&includePartOfSpeech=noun&excludePartOfSpeech=proper-noun,noun-posessive&minCorpusCount=10000&maxCorpusCount=-1&minDictionaryCount=1&maxDictionaryCount=-1&minLength=6&maxLength=6&api_key=a2a73e7b926c924fad7001ca3111acd55af2ffabf50eb4ae5",d="reverseDictionary?query=",p="&minCorpusCount=5&maxCorpusCount=-1&minLength=1&maxLength=-1&includeTags=false&skip=0&limit=1&api_key=a2a73e7b926c924fad7001ca3111acd55af2ffabf50eb4ae5",m={word:"",wordArray:[],scrambledArray:[],userInput:[],getNewWord:n,checkUserInput:t,isWinner:!1,score:0,multiplier:1};return m}angular.module("opendoorWordScramble").factory("wordService",e),e.$inject=["$http","$timeout"]}(),function(){"use strict";function e(e,r,n){var a=this;a.wordService=n,r(function(){a.wordService.getNewWord()},1e3),e.bind("keydown",function(e){e.preventDefault(),r(function(){a.wordService.isWinner?13===e.which&&a.wordService.getNewWord():a.wordService.checkUserInput(e)})})}angular.module("opendoorWordScramble").controller("MainController",e),e.$inject=["$document","$timeout","wordService"]}(),function(){"use strict";function e(e,r){e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController as main"}),r.otherwise("/")}angular.module("opendoorWordScramble").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),angular.module("opendoorWordScramble").run(["$templateCache",function(e){e.put("app/main/main.html",'<div class="container-fluid main-view"><div class="row header text-center"><h1 class="title col-xs-12">Scrambled Words</h1><div class="player-stats-container"><div class="player-stats score"><span class="score-count">{{main.wordService.score}}</span><span class="score-title">points</span></div><span class="divider">|</span><div class="player-stats multiplier"><span class="multiplier-count">{{main.wordService.multiplier}}</span><span class="multiplier-title">x multiplier</span></div></div><img class="scramble-logo col-xs-offset-2 col-xs-8 col-md-offset-4 col-md-4" src="assets/scramble.png"></div><div class="content-container"><div class="view-fade win-panel-outer" ng-if="main.wordService.isWinner"><div class="win-panel-inner"><h2 class="text-center win-title">YOU WON!</h2><div class="text-center win-text">Press <span>ENTER</span> to start a new game...</div></div></div><div class="word-container user-input"><div class="col-xs-2 character-container text-center" ng-repeat="character in main.wordService.userInput track by $index"><div class="guess character">{{character}}</div></div></div><div class="word-container scrambled-word"><div class="col-xs-2 scramble-fade character-container text-center" ng-repeat="character in main.wordService.scrambledArray track by $index"><div class="character">{{character}}</div></div></div></div></div><footer>Designed & developed by <a href="http://tyler-ball.com">Tyler Ball</a></footer>')}]);